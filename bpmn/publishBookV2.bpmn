<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" id="Definitions_1cuk2z2" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="4.4.0">
  <bpmn:collaboration id="publishBookCollab">
    <bpmn:participant id="Participant_1g1slzi" processRef="publishBook" />
  </bpmn:collaboration>
  <bpmn:process id="publishBook" isExecutable="true">
    <bpmn:laneSet id="LaneSet_0gfip7m">
      <bpmn:lane id="Lane_1olfik3" name="Writer">
        <bpmn:flowNodeRef>Activity_1e5ctzv</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_0r3frum</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Gateway_0z9x0q8</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Gateway_1puey4g</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_0hkpzhz</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Gateway_1ivgieh</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_1hefczn</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_0a30muj</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_00gvg6i</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Gateway_1mnxz02</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Event_01ri3bs</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Event_1gvylr6</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Event_0698i0h</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>StartEvent_1</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_0rp2b1o</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_0qs5bq2</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Event_0xmynqs</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Event_127i7jx</bpmn:flowNodeRef>
      </bpmn:lane>
      <bpmn:lane id="Lane_1sebm5n" name="Editor">
        <bpmn:flowNodeRef>Activity_0ss9ssi</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_1udd7ru</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_1wd8ste</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_15vao6m</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_06ha0m2</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_062w9l2</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Gateway_1ew6vev</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Gateway_1al9ri8</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Gateway_0qsvcbm</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Gateway_0f9aa3m</bpmn:flowNodeRef>
      </bpmn:lane>
      <bpmn:lane id="Lane_08ber9c" name="Main Editor">
        <bpmn:flowNodeRef>Activity_19e7y7y</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_17mnlpe</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Gateway_0bff45c</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_1j7vaxv</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Event_1x44cua</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Gateway_1cjv0pn</bpmn:flowNodeRef>
      </bpmn:lane>
      <bpmn:lane id="Lane_1f3nnkw" name="Beta Reader">
        <bpmn:flowNodeRef>Activity_0po944q</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_1588fn9</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Gateway_0dfbgb5</bpmn:flowNodeRef>
      </bpmn:lane>
      <bpmn:lane id="Lane_1furz71" name="Lecturer">
        <bpmn:flowNodeRef>Gateway_083t2sb</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Gateway_1lwx6ta</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_183y6vd</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Gateway_1au6ybk</bpmn:flowNodeRef>
      </bpmn:lane>
    </bpmn:laneSet>
    <bpmn:serviceTask id="Activity_0ss9ssi" name="Get beta readers" camunda:type="external" camunda:topic="getBetaReaders">
      <bpmn:incoming>Flow_12m864v</bpmn:incoming>
      <bpmn:outgoing>Flow_0b24nlh</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:userTask id="Activity_1udd7ru" name="Choose beta readers" camunda:assignee="${editor}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="betaReaders" label="Choose beta readers" type="string">
            <camunda:properties>
              <camunda:property id="inputType" value="multiselect" />
            </camunda:properties>
          </camunda:formField>
        </camunda:formData>
        <camunda:taskListener event="create">
          <camunda:script scriptFormat="JavaScript">var formFields = task.execution.getProcessEngine().getFormService().getTaskFormData(task.getId()).getFormFields();

formFields.get(0).getProperties().put("options", "parsearray-" + betaReaderOptions)</camunda:script>
        </camunda:taskListener>
        <camunda:taskListener event="create">
          <camunda:script scriptFormat="JavaScript" resource="registerTaskFormData.js" />
        </camunda:taskListener>
        <camunda:taskListener event="complete">
          <camunda:script scriptFormat="JavaScript">task.execution.removeVariable(task.getId());</camunda:script>
        </camunda:taskListener>
        <camunda:executionListener event="end">
          <camunda:script scriptFormat="JavaScript">if(!betaReaders){
execution.setVariable("betaReaders", new java.util.ArrayList())
}</camunda:script>
        </camunda:executionListener>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1r4allz</bpmn:incoming>
      <bpmn:outgoing>Flow_0fb3bo3</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:userTask id="Activity_1wd8ste" name="Is original?" camunda:assignee="${editor}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="viewPlagiarisedSources" label="Potential plagiarised sources" type="string" defaultValue="${plagiarisedSources}">
            <camunda:properties>
              <camunda:property id="inputType" value="multitext" />
            </camunda:properties>
            <camunda:validation>
              <camunda:constraint name="readonly" config="true" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="original" label="Is original?" type="boolean" defaultValue="false" />
        </camunda:formData>
        <camunda:taskListener event="create">
          <camunda:script scriptFormat="JavaScript" resource="registerTaskFormData.js" />
        </camunda:taskListener>
        <camunda:taskListener event="complete">
          <camunda:script scriptFormat="JavaScript">task.execution.removeVariable(task.getId());</camunda:script>
        </camunda:taskListener>
        <camunda:taskListener event="create">
          <camunda:script scriptFormat="JavaScript">task.name = "Plagiarism results: " + title;</camunda:script>
        </camunda:taskListener>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0b24nlh</bpmn:incoming>
      <bpmn:outgoing>Flow_10t394e</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:exclusiveGateway id="Gateway_0qsvcbm" name="Orginal?" default="Flow_1q2n61u">
      <bpmn:incoming>Flow_10t394e</bpmn:incoming>
      <bpmn:outgoing>Flow_1q2n61u</bpmn:outgoing>
      <bpmn:outgoing>Flow_1r4allz</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:serviceTask id="Activity_1e5ctzv" name="Check for potential plagiarism" camunda:type="external" camunda:topic="checkForPlagiarism">
      <bpmn:incoming>Flow_004okiq</bpmn:incoming>
      <bpmn:outgoing>Flow_12m864v</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Activity_19e7y7y" name="Notify main editor" camunda:type="external" camunda:topic="sendNotification">
      <bpmn:extensionElements>
        <camunda:executionListener event="start">
          <camunda:script scriptFormat="JavaScript">execution.setVariable("notificationEmail", mainEditorEmail);
execution.setVariable("notificationSubject", "Publish Book");
execution.setVariable("notificationText", username + " has started publishing process: " + title);</camunda:script>
        </camunda:executionListener>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_05c3p7q</bpmn:incoming>
      <bpmn:outgoing>Flow_1op4sg2</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:userTask id="Activity_0qs5bq2" name="Enter book details" camunda:assignee="${username}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="title" label="Working title" type="string">
            <camunda:validation>
              <camunda:constraint name="required" config="true" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="genre" label="Genre" type="enum">
            <camunda:properties>
              <camunda:property id="inputType" value="enum" />
              <camunda:property id="options" value="genres" />
            </camunda:properties>
            <camunda:validation>
              <camunda:constraint name="required" config="true" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="synopsis" label="Synopsis" type="string">
            <camunda:properties>
              <camunda:property id="inputType" value="multitext" />
            </camunda:properties>
            <camunda:validation>
              <camunda:constraint name="required" config="true" />
            </camunda:validation>
          </camunda:formField>
        </camunda:formData>
        <camunda:taskListener event="create">
          <camunda:script scriptFormat="JavaScript" resource="registerTaskFormData.js" />
        </camunda:taskListener>
        <camunda:taskListener event="complete">
          <camunda:script scriptFormat="JavaScript">task.execution.removeVariable(task.getId());</camunda:script>
        </camunda:taskListener>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1daw59w</bpmn:incoming>
      <bpmn:outgoing>Flow_0l6dr0c</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:startEvent id="StartEvent_1">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="username" type="string" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:outgoing>Flow_1daw59w</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:userTask id="Activity_0r3frum" name="Upload the book" camunda:assignee="${username}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="paper" label="Upload the book" type="string">
            <camunda:properties>
              <camunda:property id="inputType" value="file" />
            </camunda:properties>
            <camunda:validation>
              <camunda:constraint name="required" config="true" />
            </camunda:validation>
          </camunda:formField>
        </camunda:formData>
        <camunda:executionListener event="end">
          <camunda:script scriptFormat="JavaScript">var paper = execution.getVariableTyped("paper")

var fValue = org.camunda.bpm.engine.variable.Variables.fileValue(paper.getFilename()).file(paper.getValue()).mimeType(paper.getMimeType()).encoding(paper.getEncoding()).create();
execution.setVariable(title + "---", fValue);</camunda:script>
        </camunda:executionListener>
        <camunda:taskListener event="create">
          <camunda:script scriptFormat="JavaScript" resource="registerTaskFormData.js" />
        </camunda:taskListener>
        <camunda:taskListener event="complete">
          <camunda:script scriptFormat="JavaScript">task.execution.removeVariable(task.getId());</camunda:script>
        </camunda:taskListener>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_14bcqn4</bpmn:incoming>
      <bpmn:outgoing>Flow_004okiq</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:userTask id="Activity_15vao6m" name="Give explanation" camunda:assignee="${editor}">
      <bpmn:extensionElements>
        <camunda:taskListener event="create">
          <camunda:script scriptFormat="JavaScript">task.name = "Give explanation for declining: " + title;</camunda:script>
        </camunda:taskListener>
        <camunda:taskListener event="create">
          <camunda:script scriptFormat="JavaScript" resource="registerTaskFormData.js" />
        </camunda:taskListener>
        <camunda:taskListener event="complete">
          <camunda:script scriptFormat="JavaScript">task.execution.removeVariable(task.getId());</camunda:script>
        </camunda:taskListener>
        <camunda:formData>
          <camunda:formField id="titleView" label="Working title" type="string" defaultValue="${title}">
            <camunda:validation>
              <camunda:constraint name="readonly" config="true" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="genreView" label="Genre" type="string" defaultValue="${genre}">
            <camunda:validation>
              <camunda:constraint name="readonly" config="true" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="synopsisView" label="Synopsis" type="string" defaultValue="${synopsis}">
            <camunda:properties>
              <camunda:property id="inputType" value="multitext" />
            </camunda:properties>
            <camunda:validation>
              <camunda:constraint name="readonly" config="true" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="explanation" label="Explanation" type="string">
            <camunda:validation>
              <camunda:constraint name="required" config="true" />
            </camunda:validation>
          </camunda:formField>
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1f0q1t8</bpmn:incoming>
      <bpmn:outgoing>Flow_0l75o7f</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:exclusiveGateway id="Gateway_0f9aa3m" name="Approve?" default="Flow_1f0q1t8">
      <bpmn:incoming>Flow_0iqx1fm</bpmn:incoming>
      <bpmn:outgoing>Flow_14bcqn4</bpmn:outgoing>
      <bpmn:outgoing>Flow_1f0q1t8</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:userTask id="Activity_06ha0m2" name="Review" camunda:assignee="${editor}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="titleView" label="Working title" type="string" defaultValue="${title}">
            <camunda:validation>
              <camunda:constraint name="readonly" config="true" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="genreView" label="Genre" type="string" defaultValue="${genre}">
            <camunda:validation>
              <camunda:constraint name="readonly" config="true" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="synopsisView" label="Synopsis" type="string" defaultValue="${synopsis}">
            <camunda:properties>
              <camunda:property id="inputType" value="multitext" />
            </camunda:properties>
            <camunda:validation>
              <camunda:constraint name="readonly" config="true" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="approve" label="Approve synopsis" type="boolean" defaultValue="false" />
        </camunda:formData>
        <camunda:taskListener event="create">
          <camunda:script scriptFormat="JavaScript" resource="registerTaskFormData.js" />
        </camunda:taskListener>
        <camunda:taskListener event="complete">
          <camunda:script scriptFormat="JavaScript">task.execution.removeVariable(task.getId());</camunda:script>
        </camunda:taskListener>
        <camunda:taskListener event="create">
          <camunda:script scriptFormat="JavaScript">task.name = "Review book: " + title;</camunda:script>
        </camunda:taskListener>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1op4sg2</bpmn:incoming>
      <bpmn:outgoing>Flow_0iqx1fm</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:serviceTask id="Activity_0rp2b1o" name="Get necessary data" camunda:type="external" camunda:topic="getPeople">
      <bpmn:incoming>Flow_0l6dr0c</bpmn:incoming>
      <bpmn:outgoing>Flow_05c3p7q</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:boundaryEvent id="Event_0698i0h" attachedToRef="Activity_0r3frum">
      <bpmn:outgoing>Flow_1mn1t37</bpmn:outgoing>
      <bpmn:timerEventDefinition id="TimerEventDefinition_14e977q">
        <bpmn:timeDuration xsi:type="bpmn:tFormalExpression">P30D</bpmn:timeDuration>
      </bpmn:timerEventDefinition>
    </bpmn:boundaryEvent>
    <bpmn:sequenceFlow id="Flow_004okiq" sourceRef="Activity_0r3frum" targetRef="Activity_1e5ctzv" />
    <bpmn:sequenceFlow id="Flow_10t394e" sourceRef="Activity_1wd8ste" targetRef="Gateway_0qsvcbm" />
    <bpmn:sequenceFlow id="Flow_1q2n61u" name="Not original" sourceRef="Gateway_0qsvcbm" targetRef="Gateway_1puey4g">
      <bpmn:extensionElements>
        <camunda:executionListener event="take">
          <camunda:script scriptFormat="JavaScript">execution.setVariable("notificationEmail", writerEmail);
execution.setVariable("notificationSubject", "Publish Book");
execution.setVariable("notificationText", "Your book has been rejected by editor (plagiarism reported)");</camunda:script>
        </camunda:executionListener>
      </bpmn:extensionElements>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_15pkpne" sourceRef="Activity_1588fn9" targetRef="Activity_0po944q" />
    <bpmn:sequenceFlow id="Flow_1daw59w" sourceRef="StartEvent_1" targetRef="Activity_0qs5bq2" />
    <bpmn:sequenceFlow id="Flow_1mn1t37" sourceRef="Event_0698i0h" targetRef="Gateway_0z9x0q8">
      <bpmn:extensionElements>
        <camunda:executionListener event="take">
          <camunda:script scriptFormat="JavaScript">execution.setVariable("notificationEmail", writerEmail);
execution.setVariable("notificationSubject", "Publish Book");
execution.setVariable("notificationText", "You have failed to upload the book in time");</camunda:script>
        </camunda:executionListener>
      </bpmn:extensionElements>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_14bcqn4" name="Approve" sourceRef="Gateway_0f9aa3m" targetRef="Activity_0r3frum">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${approve}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_1f0q1t8" name="Not approve" sourceRef="Gateway_0f9aa3m" targetRef="Activity_15vao6m" />
    <bpmn:sequenceFlow id="Flow_0iqx1fm" sourceRef="Activity_06ha0m2" targetRef="Gateway_0f9aa3m" />
    <bpmn:exclusiveGateway id="Gateway_0z9x0q8" default="Flow_04f5ct4">
      <bpmn:incoming>Flow_1mn1t37</bpmn:incoming>
      <bpmn:incoming>Flow_0l75o7f</bpmn:incoming>
      <bpmn:outgoing>Flow_04f5ct4</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_0l75o7f" sourceRef="Activity_15vao6m" targetRef="Gateway_0z9x0q8">
      <bpmn:extensionElements>
        <camunda:executionListener event="take">
          <camunda:script scriptFormat="JavaScript">execution.setVariable("notificationEmail", writerEmail);
execution.setVariable("notificationSubject", "Publish Book");
execution.setVariable("notificationText", "Your book has been rejected by editor (" + explanation + ")");</camunda:script>
        </camunda:executionListener>
      </bpmn:extensionElements>
    </bpmn:sequenceFlow>
    <bpmn:exclusiveGateway id="Gateway_1puey4g" default="Flow_0knc3b3">
      <bpmn:incoming>Flow_1q2n61u</bpmn:incoming>
      <bpmn:incoming>Flow_04f5ct4</bpmn:incoming>
      <bpmn:outgoing>Flow_0knc3b3</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_04f5ct4" sourceRef="Gateway_0z9x0q8" targetRef="Gateway_1puey4g" />
    <bpmn:sequenceFlow id="Flow_0xsrzki" sourceRef="Activity_0hkpzhz" targetRef="Activity_062w9l2" />
    <bpmn:sequenceFlow id="Flow_1sx015h" sourceRef="Activity_062w9l2" targetRef="Gateway_1ew6vev" />
    <bpmn:sequenceFlow id="Flow_0yzh6uk" sourceRef="Gateway_1ivgieh" targetRef="Activity_0hkpzhz" />
    <bpmn:sequenceFlow id="Flow_011acns" name="Yes" sourceRef="Gateway_1ew6vev" targetRef="Gateway_1ivgieh">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${moreEdits}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_06zznvl" sourceRef="Activity_0po944q" targetRef="Gateway_1ivgieh" />
    <bpmn:sequenceFlow id="Flow_1l2qjg9" sourceRef="Gateway_1lwx6ta" targetRef="Activity_183y6vd" />
    <bpmn:sequenceFlow id="Flow_1070kr6" sourceRef="Activity_1hefczn" targetRef="Gateway_1lwx6ta" />
    <bpmn:sequenceFlow id="Flow_0arwim3" name="No" sourceRef="Gateway_1ew6vev" targetRef="Gateway_1au6ybk" />
    <bpmn:sequenceFlow id="Flow_1k1kaji" sourceRef="Activity_17mnlpe" targetRef="Gateway_1cjv0pn" />
    <bpmn:sequenceFlow id="Flow_1kd8up1" sourceRef="Gateway_0bff45c" targetRef="Activity_17mnlpe" />
    <bpmn:sequenceFlow id="Flow_1yioq4c" name="No annotations" sourceRef="Gateway_083t2sb" targetRef="Gateway_0bff45c">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression" language="JavaScript">execution.getVariable("annotatedPaper") === null</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_1npw83q" sourceRef="Activity_0a30muj" targetRef="Gateway_0bff45c" />
    <bpmn:sequenceFlow id="Flow_0tw1mn5" name="Suggestions" sourceRef="Gateway_1cjv0pn" targetRef="Activity_0a30muj" />
    <bpmn:sequenceFlow id="Flow_0nqccdd" sourceRef="Activity_00gvg6i" targetRef="Event_01ri3bs" />
    <bpmn:sequenceFlow id="Flow_19ai4tm" sourceRef="Activity_1j7vaxv" targetRef="Event_1x44cua" />
    <bpmn:sequenceFlow id="Flow_08lwfzz" name="No suggestions" sourceRef="Gateway_1cjv0pn" targetRef="Activity_1j7vaxv">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${suggestions == null || suggestions.isEmpty()}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:boundaryEvent id="Event_1gvylr6" attachedToRef="Activity_0a30muj">
      <bpmn:outgoing>Flow_09f75jn</bpmn:outgoing>
      <bpmn:timerEventDefinition id="TimerEventDefinition_0kkbd64">
        <bpmn:timeDuration xsi:type="bpmn:tFormalExpression">P30D</bpmn:timeDuration>
      </bpmn:timerEventDefinition>
    </bpmn:boundaryEvent>
    <bpmn:endEvent id="Event_01ri3bs" name="Book not published">
      <bpmn:incoming>Flow_0nqccdd</bpmn:incoming>
      <bpmn:terminateEventDefinition id="TerminateEventDefinition_1t1otml" />
    </bpmn:endEvent>
    <bpmn:endEvent id="Event_1x44cua" name="Book published">
      <bpmn:incoming>Flow_19ai4tm</bpmn:incoming>
      <bpmn:terminateEventDefinition id="TerminateEventDefinition_02kyq3f" />
    </bpmn:endEvent>
    <bpmn:serviceTask id="Activity_0po944q" name="Send notification" camunda:type="external" camunda:topic="sendNotification">
      <bpmn:extensionElements>
        <camunda:executionListener event="start">
          <camunda:script scriptFormat="JavaScript">execution.setVariable("notificationEmail", writerEmail)
execution.setVariable("notificationSubject", "Beta reader comments")
execution.setVariable("notificationText", java.lang.String.join('&lt;br/&gt;', allComments))</camunda:script>
        </camunda:executionListener>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_15pkpne</bpmn:incoming>
      <bpmn:outgoing>Flow_06zznvl</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:userTask id="Activity_0hkpzhz" name="Upload the book" camunda:assignee="${username}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="paper" label="Upload the book" type="string">
            <camunda:properties>
              <camunda:property id="inputType" value="file" />
            </camunda:properties>
            <camunda:validation>
              <camunda:constraint name="required" config="true" />
            </camunda:validation>
          </camunda:formField>
        </camunda:formData>
        <camunda:executionListener event="end">
          <camunda:script scriptFormat="JavaScript">var paper = execution.getVariableTyped("paper")

var fValue = org.camunda.bpm.engine.variable.Variables.fileValue(paper.getFilename()).file(paper.getValue()).mimeType(paper.getMimeType()).encoding(paper.getEncoding()).create();
execution.setVariable(title + "---", fValue);</camunda:script>
        </camunda:executionListener>
        <camunda:taskListener event="create">
          <camunda:script scriptFormat="JavaScript" resource="registerTaskFormData.js" />
        </camunda:taskListener>
        <camunda:taskListener event="complete">
          <camunda:script scriptFormat="JavaScript">task.execution.removeVariable(task.getId());</camunda:script>
        </camunda:taskListener>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0yzh6uk</bpmn:incoming>
      <bpmn:outgoing>Flow_0xsrzki</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:userTask id="Activity_062w9l2" name="More edits?" camunda:assignee="${editor}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="moreEdits" label="More edits needed?" type="boolean" defaultValue="false" />
        </camunda:formData>
        <camunda:taskListener event="create">
          <camunda:script scriptFormat="JavaScript" resource="registerTaskFormData.js" />
        </camunda:taskListener>
        <camunda:taskListener event="complete">
          <camunda:script scriptFormat="JavaScript">task.execution.removeVariable(task.getId());</camunda:script>
        </camunda:taskListener>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0xsrzki</bpmn:incoming>
      <bpmn:outgoing>Flow_1sx015h</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:exclusiveGateway id="Gateway_1ew6vev" default="Flow_0arwim3">
      <bpmn:incoming>Flow_1sx015h</bpmn:incoming>
      <bpmn:outgoing>Flow_011acns</bpmn:outgoing>
      <bpmn:outgoing>Flow_0arwim3</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:exclusiveGateway id="Gateway_1ivgieh">
      <bpmn:incoming>Flow_06zznvl</bpmn:incoming>
      <bpmn:incoming>Flow_011acns</bpmn:incoming>
      <bpmn:outgoing>Flow_0yzh6uk</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:userTask id="Activity_1hefczn" name="Upload the book" camunda:assignee="${username}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="paper" label="Upload the book" type="string">
            <camunda:properties>
              <camunda:property id="inputType" value="file" />
            </camunda:properties>
            <camunda:validation>
              <camunda:constraint name="required" config="true" />
            </camunda:validation>
          </camunda:formField>
        </camunda:formData>
        <camunda:executionListener event="end">
          <camunda:script scriptFormat="JavaScript">var paper = execution.getVariableTyped("paper")

var fValue = org.camunda.bpm.engine.variable.Variables.fileValue(paper.getFilename()).file(paper.getValue()).mimeType(paper.getMimeType()).encoding(paper.getEncoding()).create();
execution.setVariable(title + "---", fValue);</camunda:script>
        </camunda:executionListener>
        <camunda:taskListener event="create">
          <camunda:script scriptFormat="JavaScript" resource="registerTaskFormData.js" />
        </camunda:taskListener>
        <camunda:taskListener event="complete">
          <camunda:script scriptFormat="JavaScript">task.execution.removeVariable(task.getId());</camunda:script>
        </camunda:taskListener>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1o8o7xz</bpmn:incoming>
      <bpmn:outgoing>Flow_1070kr6</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:exclusiveGateway id="Gateway_083t2sb" default="Flow_1o8o7xz">
      <bpmn:incoming>Flow_1x8warc</bpmn:incoming>
      <bpmn:outgoing>Flow_1yioq4c</bpmn:outgoing>
      <bpmn:outgoing>Flow_1o8o7xz</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:exclusiveGateway id="Gateway_1lwx6ta">
      <bpmn:incoming>Flow_1070kr6</bpmn:incoming>
      <bpmn:incoming>Flow_1518fho</bpmn:incoming>
      <bpmn:outgoing>Flow_1l2qjg9</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:userTask id="Activity_17mnlpe" name="Give suggestions" camunda:assignee="${mainEditor}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="suggestions" label="Suggestions" type="string">
            <camunda:properties>
              <camunda:property id="inputType" value="multitext" />
            </camunda:properties>
          </camunda:formField>
        </camunda:formData>
        <camunda:taskListener event="create">
          <camunda:script scriptFormat="JavaScript" resource="registerTaskFormData.js" />
        </camunda:taskListener>
        <camunda:taskListener event="complete">
          <camunda:script scriptFormat="JavaScript">task.execution.removeVariable(task.getId());</camunda:script>
        </camunda:taskListener>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1kd8up1</bpmn:incoming>
      <bpmn:outgoing>Flow_1k1kaji</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:exclusiveGateway id="Gateway_1cjv0pn" name="Any suggestions?" default="Flow_0tw1mn5">
      <bpmn:incoming>Flow_1k1kaji</bpmn:incoming>
      <bpmn:outgoing>Flow_0tw1mn5</bpmn:outgoing>
      <bpmn:outgoing>Flow_08lwfzz</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:exclusiveGateway id="Gateway_0bff45c">
      <bpmn:incoming>Flow_1yioq4c</bpmn:incoming>
      <bpmn:incoming>Flow_1npw83q</bpmn:incoming>
      <bpmn:outgoing>Flow_1kd8up1</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:userTask id="Activity_0a30muj" name="Upload the book" camunda:assignee="${username}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="paper" label="Upload the book" type="string">
            <camunda:properties>
              <camunda:property id="inputType" value="file" />
            </camunda:properties>
            <camunda:validation>
              <camunda:constraint name="required" config="true" />
            </camunda:validation>
          </camunda:formField>
          <camunda:formField id="suggestionsView" label="Main editor suggestions" type="string" defaultValue="${suggestions}">
            <camunda:properties>
              <camunda:property id="inputType" value="multitext" />
            </camunda:properties>
            <camunda:validation>
              <camunda:constraint name="readonly" config="true" />
            </camunda:validation>
          </camunda:formField>
        </camunda:formData>
        <camunda:taskListener event="create">
          <camunda:script scriptFormat="JavaScript" resource="registerTaskFormData.js" />
        </camunda:taskListener>
        <camunda:taskListener event="complete">
          <camunda:script scriptFormat="JavaScript">task.execution.removeVariable(task.getId());</camunda:script>
        </camunda:taskListener>
        <camunda:executionListener event="end">
          <camunda:script scriptFormat="JavaScript">var paper = execution.getVariableTyped("paper")

var fValue = org.camunda.bpm.engine.variable.Variables.fileValue(paper.getFilename()).file(paper.getValue()).mimeType(paper.getMimeType()).encoding(paper.getEncoding()).create();
execution.setVariable(title + "---", fValue);</camunda:script>
        </camunda:executionListener>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0tw1mn5</bpmn:incoming>
      <bpmn:outgoing>Flow_1npw83q</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:serviceTask id="Activity_00gvg6i" name="Send notification" camunda:type="external" camunda:topic="sendNotification">
      <bpmn:incoming>Flow_0rdd51i</bpmn:incoming>
      <bpmn:outgoing>Flow_0nqccdd</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Activity_1j7vaxv" name="Add to book repository" camunda:type="external" camunda:topic="addToRepository">
      <bpmn:incoming>Flow_08lwfzz</bpmn:incoming>
      <bpmn:outgoing>Flow_19ai4tm</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:subProcess id="Activity_1588fn9" name="Give comments">
      <bpmn:extensionElements>
        <camunda:executionListener event="start">
          <camunda:script scriptFormat="JavaScript">execution.setVariable("allComments", new java.util.ArrayList());</camunda:script>
        </camunda:executionListener>
        <camunda:inputOutput>
          <camunda:inputParameter name="notificationEmail" />
          <camunda:inputParameter name="revokeStatus" />
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0601qx1</bpmn:incoming>
      <bpmn:outgoing>Flow_15pkpne</bpmn:outgoing>
      <bpmn:multiInstanceLoopCharacteristics camunda:collection="${betaReaders}" camunda:elementVariable="betaReader" />
      <bpmn:startEvent id="Event_1s86u75">
        <bpmn:outgoing>Flow_0tv1oy6</bpmn:outgoing>
      </bpmn:startEvent>
      <bpmn:sequenceFlow id="Flow_0tv1oy6" sourceRef="Event_1s86u75" targetRef="Activity_1w8ocof" />
      <bpmn:userTask id="Activity_1w8ocof" name="Give comments" camunda:assignee="${betaReader}">
        <bpmn:extensionElements>
          <camunda:formData>
            <camunda:formField id="comments" label="Comments" type="string">
              <camunda:validation>
                <camunda:constraint name="required" config="true" />
              </camunda:validation>
            </camunda:formField>
          </camunda:formData>
          <camunda:taskListener event="create">
            <camunda:script scriptFormat="JavaScript" resource="registerTaskFormData.js" />
          </camunda:taskListener>
          <camunda:taskListener event="complete">
            <camunda:script scriptFormat="JavaScript">task.execution.removeVariable(task.getId());</camunda:script>
          </camunda:taskListener>
          <camunda:executionListener event="end">
            <camunda:script scriptFormat="JavaScript">var allComments = execution.getVariable("allComments");
allComments.add(comments)

execution.setVariable("allComments", allComments);</camunda:script>
          </camunda:executionListener>
        </bpmn:extensionElements>
        <bpmn:incoming>Flow_0tv1oy6</bpmn:incoming>
        <bpmn:outgoing>Flow_16iiesf</bpmn:outgoing>
      </bpmn:userTask>
      <bpmn:exclusiveGateway id="Gateway_1tz9ulj" default="Flow_0qw70uu">
        <bpmn:incoming>Flow_16iiesf</bpmn:incoming>
        <bpmn:incoming>Flow_1dai3wh</bpmn:incoming>
        <bpmn:outgoing>Flow_0qw70uu</bpmn:outgoing>
      </bpmn:exclusiveGateway>
      <bpmn:sequenceFlow id="Flow_16iiesf" sourceRef="Activity_1w8ocof" targetRef="Gateway_1tz9ulj" />
      <bpmn:boundaryEvent id="Event_15auss0" attachedToRef="Activity_1w8ocof">
        <bpmn:outgoing>Flow_1jb6hwc</bpmn:outgoing>
        <bpmn:timerEventDefinition id="TimerEventDefinition_1x73er6">
          <bpmn:timeDuration xsi:type="bpmn:tFormalExpression">P7D</bpmn:timeDuration>
        </bpmn:timerEventDefinition>
      </bpmn:boundaryEvent>
      <bpmn:sequenceFlow id="Flow_1jb6hwc" sourceRef="Event_15auss0" targetRef="Activity_065zoks" />
      <bpmn:serviceTask id="Activity_065zoks" name="Add penalty point" camunda:type="external" camunda:topic="addPenaltyPoint">
        <bpmn:incoming>Flow_1jb6hwc</bpmn:incoming>
        <bpmn:outgoing>Flow_1feccqt</bpmn:outgoing>
      </bpmn:serviceTask>
      <bpmn:exclusiveGateway id="Gateway_0dfbgb5" name="Revoke status?" default="Flow_1dai3wh">
        <bpmn:incoming>Flow_1feccqt</bpmn:incoming>
        <bpmn:outgoing>Flow_0icttni</bpmn:outgoing>
        <bpmn:outgoing>Flow_1dai3wh</bpmn:outgoing>
      </bpmn:exclusiveGateway>
      <bpmn:sequenceFlow id="Flow_1feccqt" sourceRef="Activity_065zoks" targetRef="Gateway_0dfbgb5" />
      <bpmn:sequenceFlow id="Flow_0icttni" name="Yes" sourceRef="Gateway_0dfbgb5" targetRef="Activity_1ekcek2">
        <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${revokeStatus}</bpmn:conditionExpression>
      </bpmn:sequenceFlow>
      <bpmn:serviceTask id="Activity_1ekcek2" name="Revoke status" camunda:type="external" camunda:topic="revokeStatus">
        <bpmn:incoming>Flow_0icttni</bpmn:incoming>
        <bpmn:outgoing>Flow_1mpsiqn</bpmn:outgoing>
      </bpmn:serviceTask>
      <bpmn:sequenceFlow id="Flow_1dai3wh" name="No" sourceRef="Gateway_0dfbgb5" targetRef="Gateway_1tz9ulj" />
      <bpmn:serviceTask id="Activity_0uuujct" name="Send notification" camunda:type="external" camunda:topic="sendNotification">
        <bpmn:incoming>Flow_1mpsiqn</bpmn:incoming>
        <bpmn:outgoing>Flow_1rgyk8l</bpmn:outgoing>
      </bpmn:serviceTask>
      <bpmn:exclusiveGateway id="Gateway_0hcmunc" default="Flow_1vh02yq">
        <bpmn:incoming>Flow_1rgyk8l</bpmn:incoming>
        <bpmn:incoming>Flow_0qw70uu</bpmn:incoming>
        <bpmn:outgoing>Flow_1vh02yq</bpmn:outgoing>
      </bpmn:exclusiveGateway>
      <bpmn:sequenceFlow id="Flow_1rgyk8l" sourceRef="Activity_0uuujct" targetRef="Gateway_0hcmunc" />
      <bpmn:sequenceFlow id="Flow_0qw70uu" sourceRef="Gateway_1tz9ulj" targetRef="Gateway_0hcmunc" />
      <bpmn:endEvent id="Event_04bosv9">
        <bpmn:incoming>Flow_1vh02yq</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:sequenceFlow id="Flow_1vh02yq" sourceRef="Gateway_0hcmunc" targetRef="Event_04bosv9" />
      <bpmn:sequenceFlow id="Flow_1mpsiqn" sourceRef="Activity_1ekcek2" targetRef="Activity_0uuujct" />
    </bpmn:subProcess>
    <bpmn:sequenceFlow id="Flow_0knc3b3" sourceRef="Gateway_1puey4g" targetRef="Gateway_1mnxz02" />
    <bpmn:exclusiveGateway id="Gateway_1mnxz02" default="Flow_0rdd51i">
      <bpmn:incoming>Flow_09f75jn</bpmn:incoming>
      <bpmn:incoming>Flow_0knc3b3</bpmn:incoming>
      <bpmn:outgoing>Flow_0rdd51i</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_0rdd51i" sourceRef="Gateway_1mnxz02" targetRef="Activity_00gvg6i" />
    <bpmn:sequenceFlow id="Flow_09f75jn" sourceRef="Event_1gvylr6" targetRef="Gateway_1mnxz02">
      <bpmn:extensionElements>
        <camunda:executionListener event="take">
          <camunda:script scriptFormat="JavaScript">execution.setVariable("notificationEmail", writerEmail);
execution.setVariable("notificationSubject", "Publish Book");
execution.setVariable("notificationText", "You have failed to upload the book in time");</camunda:script>
        </camunda:executionListener>
      </bpmn:extensionElements>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_05c3p7q" sourceRef="Activity_0rp2b1o" targetRef="Activity_19e7y7y" />
    <bpmn:sequenceFlow id="Flow_1op4sg2" sourceRef="Activity_19e7y7y" targetRef="Activity_06ha0m2" />
    <bpmn:sequenceFlow id="Flow_0l6dr0c" sourceRef="Activity_0qs5bq2" targetRef="Activity_0rp2b1o" />
    <bpmn:userTask id="Activity_183y6vd" name="Annotate the book" camunda:assignee="${lecturer}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="annotatedPaper" label="Annotated book" type="string">
            <camunda:properties>
              <camunda:property id="inputType" value="file" />
            </camunda:properties>
          </camunda:formField>
        </camunda:formData>
        <camunda:taskListener event="create">
          <camunda:script scriptFormat="JavaScript" resource="registerTaskFormData.js" />
        </camunda:taskListener>
        <camunda:taskListener event="complete">
          <camunda:script scriptFormat="JavaScript">task.execution.removeVariable(task.getId());</camunda:script>
        </camunda:taskListener>
        <camunda:executionListener event="end">
          <camunda:script scriptFormat="JavaScript">if(execution.getVariable("annotatedPaper")){
var annotated = execution.getVariableTyped("annotatedPaper")
var fn= annotated.getFilename().split(".", 2)
var fileName = fn[0]+"_annotated."+fn[1]

var fValue = org.camunda.bpm.engine.variable.Variables.fileValue(fileName).file(annotated .getValue()).mimeType(annotated.getMimeType()).encoding(annotated.getEncoding()).create();
execution.setVariable(title + " - annotated---",fValue);
}</camunda:script>
        </camunda:executionListener>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1l2qjg9</bpmn:incoming>
      <bpmn:outgoing>Flow_1x8warc</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="Flow_1o8o7xz" sourceRef="Gateway_083t2sb" targetRef="Activity_1hefczn" />
    <bpmn:sequenceFlow id="Flow_12m864v" sourceRef="Activity_1e5ctzv" targetRef="Activity_0ss9ssi" />
    <bpmn:sequenceFlow id="Flow_0b24nlh" sourceRef="Activity_0ss9ssi" targetRef="Activity_1wd8ste" />
    <bpmn:sequenceFlow id="Flow_1x8warc" sourceRef="Activity_183y6vd" targetRef="Gateway_083t2sb" />
    <bpmn:exclusiveGateway id="Gateway_1al9ri8" default="Flow_1qdn9c2">
      <bpmn:incoming>Flow_0fb3bo3</bpmn:incoming>
      <bpmn:outgoing>Flow_0601qx1</bpmn:outgoing>
      <bpmn:outgoing>Flow_1qdn9c2</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_0fb3bo3" sourceRef="Activity_1udd7ru" targetRef="Gateway_1al9ri8" />
    <bpmn:sequenceFlow id="Flow_0601qx1" sourceRef="Gateway_1al9ri8" targetRef="Activity_1588fn9">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression" language="JavaScript">betaReaders.size() &gt; 0</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_1qdn9c2" sourceRef="Gateway_1al9ri8" targetRef="Gateway_1au6ybk" />
    <bpmn:exclusiveGateway id="Gateway_1au6ybk" default="Flow_1518fho">
      <bpmn:incoming>Flow_0arwim3</bpmn:incoming>
      <bpmn:incoming>Flow_1qdn9c2</bpmn:incoming>
      <bpmn:outgoing>Flow_1518fho</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_1518fho" sourceRef="Gateway_1au6ybk" targetRef="Gateway_1lwx6ta" />
    <bpmn:sequenceFlow id="Flow_1r4allz" sourceRef="Gateway_0qsvcbm" targetRef="Activity_1udd7ru">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression" language="JavaScript">original</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:endEvent id="Event_127i7jx">
      <bpmn:incoming>Flow_0a8ilbg</bpmn:incoming>
      <bpmn:terminateEventDefinition id="TerminateEventDefinition_1xxvm7u" />
    </bpmn:endEvent>
    <bpmn:boundaryEvent id="Event_0xmynqs" attachedToRef="Activity_0qs5bq2">
      <bpmn:outgoing>Flow_0a8ilbg</bpmn:outgoing>
      <bpmn:timerEventDefinition id="TimerEventDefinition_0xwc1b8">
        <bpmn:timeDuration xsi:type="bpmn:tFormalExpression">PT30S</bpmn:timeDuration>
      </bpmn:timerEventDefinition>
    </bpmn:boundaryEvent>
    <bpmn:sequenceFlow id="Flow_0a8ilbg" sourceRef="Event_0xmynqs" targetRef="Event_127i7jx" />
    <bpmn:subProcess id="Activity_0f9hm47" triggeredByEvent="true">
      <bpmn:startEvent id="Event_09yhcnj">
        <bpmn:outgoing>Flow_11gpqgx</bpmn:outgoing>
        <bpmn:timerEventDefinition id="TimerEventDefinition_1kiofbg">
          <bpmn:timeDuration xsi:type="bpmn:tFormalExpression">P4</bpmn:timeDuration>
        </bpmn:timerEventDefinition>
      </bpmn:startEvent>
      <bpmn:endEvent id="Event_19o8kno">
        <bpmn:incoming>Flow_11gpqgx</bpmn:incoming>
        <bpmn:terminateEventDefinition id="TerminateEventDefinition_04mbno0" />
      </bpmn:endEvent>
      <bpmn:sequenceFlow id="Flow_11gpqgx" sourceRef="Event_09yhcnj" targetRef="Event_19o8kno" />
    </bpmn:subProcess>
  </bpmn:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="publishBook">
      <bpmndi:BPMNShape id="Lane_1olfik3_di" bpmnElement="Lane_1olfik3" isHorizontal="true">
        <dc:Bounds x="182" y="220" width="4456" height="269" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_1sebm5n_di" bpmnElement="Lane_1sebm5n" isHorizontal="true">
        <dc:Bounds x="182" y="609" width="4456" height="120" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_08ber9c_di" bpmnElement="Lane_08ber9c" isHorizontal="true">
        <dc:Bounds x="182" y="489" width="4456" height="120" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_1f3nnkw_di" bpmnElement="Lane_1f3nnkw" isHorizontal="true">
        <dc:Bounds x="182" y="970" width="4456" height="460" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_1furz71_di" bpmnElement="Lane_1furz71" isHorizontal="true">
        <dc:Bounds x="182" y="729" width="4456" height="241" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_1r4allz_di" bpmnElement="Flow_1r4allz">
        <di:waypoint x="1865" y="670" />
        <di:waypoint x="2180" y="670" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1518fho_di" bpmnElement="Flow_1518fho">
        <di:waypoint x="3255" y="910" />
        <di:waypoint x="3345" y="910" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1qdn9c2_di" bpmnElement="Flow_1qdn9c2">
        <di:waypoint x="2445" y="670" />
        <di:waypoint x="2540" y="670" />
        <di:waypoint x="2540" y="910" />
        <di:waypoint x="3205" y="910" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0601qx1_di" bpmnElement="Flow_0601qx1">
        <di:waypoint x="2420" y="695" />
        <di:waypoint x="2420" y="1120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0fb3bo3_di" bpmnElement="Flow_0fb3bo3">
        <di:waypoint x="2280" y="670" />
        <di:waypoint x="2395" y="670" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1x8warc_di" bpmnElement="Flow_1x8warc">
        <di:waypoint x="3600" y="910" />
        <di:waypoint x="3695" y="910" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0b24nlh_di" bpmnElement="Flow_0b24nlh">
        <di:waypoint x="1410" y="670" />
        <di:waypoint x="1500" y="670" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_12m864v_di" bpmnElement="Flow_12m864v">
        <di:waypoint x="1360" y="460" />
        <di:waypoint x="1360" y="630" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1o8o7xz_di" bpmnElement="Flow_1o8o7xz">
        <di:waypoint x="3720" y="885" />
        <di:waypoint x="3720" y="420" />
        <di:waypoint x="3600" y="420" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0l6dr0c_di" bpmnElement="Flow_0l6dr0c">
        <di:waypoint x="430" y="350" />
        <di:waypoint x="510" y="350" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1op4sg2_di" bpmnElement="Flow_1op4sg2">
        <di:waypoint x="610" y="550" />
        <di:waypoint x="640" y="550" />
        <di:waypoint x="640" y="670" />
        <di:waypoint x="670" y="670" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_05c3p7q_di" bpmnElement="Flow_05c3p7q">
        <di:waypoint x="560" y="390" />
        <di:waypoint x="560" y="510" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_09f75jn_di" bpmnElement="Flow_09f75jn">
        <di:waypoint x="4030" y="362" />
        <di:waypoint x="4030" y="305" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0rdd51i_di" bpmnElement="Flow_0rdd51i">
        <di:waypoint x="4055" y="280" />
        <di:waypoint x="4310" y="280" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0knc3b3_di" bpmnElement="Flow_0knc3b3">
        <di:waypoint x="1865" y="280" />
        <di:waypoint x="4005" y="280" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_08lwfzz_di" bpmnElement="Flow_08lwfzz">
        <di:waypoint x="4225" y="550" />
        <di:waypoint x="4310" y="550" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="4223" y="392" width="77" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_19ai4tm_di" bpmnElement="Flow_19ai4tm">
        <di:waypoint x="4410" y="550" />
        <di:waypoint x="4502" y="550" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0nqccdd_di" bpmnElement="Flow_0nqccdd">
        <di:waypoint x="4410" y="280" />
        <di:waypoint x="4502" y="280" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0tw1mn5_di" bpmnElement="Flow_0tw1mn5">
        <di:waypoint x="4200" y="525" />
        <di:waypoint x="4200" y="420" />
        <di:waypoint x="4080" y="420" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="4119" y="263" width="62" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1npw83q_di" bpmnElement="Flow_1npw83q">
        <di:waypoint x="3980" y="420" />
        <di:waypoint x="3850" y="420" />
        <di:waypoint x="3850" y="524" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1yioq4c_di" bpmnElement="Flow_1yioq4c">
        <di:waypoint x="3745" y="910" />
        <di:waypoint x="3850" y="910" />
        <di:waypoint x="3850" y="574" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="3753" y="753" width="75" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1kd8up1_di" bpmnElement="Flow_1kd8up1">
        <di:waypoint x="3874" y="550" />
        <di:waypoint x="3980" y="550" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1k1kaji_di" bpmnElement="Flow_1k1kaji">
        <di:waypoint x="4080" y="550" />
        <di:waypoint x="4175" y="550" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0arwim3_di" bpmnElement="Flow_0arwim3">
        <di:waypoint x="3230" y="695" />
        <di:waypoint x="3230" y="885" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="3242" y="653" width="15" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1070kr6_di" bpmnElement="Flow_1070kr6">
        <di:waypoint x="3500" y="420" />
        <di:waypoint x="3370" y="420" />
        <di:waypoint x="3370" y="885" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1l2qjg9_di" bpmnElement="Flow_1l2qjg9">
        <di:waypoint x="3395" y="910" />
        <di:waypoint x="3500" y="910" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_06zznvl_di" bpmnElement="Flow_06zznvl">
        <di:waypoint x="2750" y="1000" />
        <di:waypoint x="2750" y="445" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_011acns_di" bpmnElement="Flow_011acns">
        <di:waypoint x="3230" y="645" />
        <di:waypoint x="3230" y="340" />
        <di:waypoint x="2750" y="340" />
        <di:waypoint x="2750" y="395" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2981" y="182" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0yzh6uk_di" bpmnElement="Flow_0yzh6uk">
        <di:waypoint x="2775" y="420" />
        <di:waypoint x="2840" y="420" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1sx015h_di" bpmnElement="Flow_1sx015h">
        <di:waypoint x="3120" y="670" />
        <di:waypoint x="3205" y="670" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0xsrzki_di" bpmnElement="Flow_0xsrzki">
        <di:waypoint x="2940" y="420" />
        <di:waypoint x="2980" y="420" />
        <di:waypoint x="2980" y="670" />
        <di:waypoint x="3020" y="670" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_04f5ct4_di" bpmnElement="Flow_04f5ct4">
        <di:waypoint x="1215" y="280" />
        <di:waypoint x="1815" y="280" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0l75o7f_di" bpmnElement="Flow_0l75o7f">
        <di:waypoint x="1080" y="670" />
        <di:waypoint x="1190" y="670" />
        <di:waypoint x="1190" y="305" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0iqx1fm_di" bpmnElement="Flow_0iqx1fm">
        <di:waypoint x="770" y="670" />
        <di:waypoint x="835" y="670" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1f0q1t8_di" bpmnElement="Flow_1f0q1t8">
        <di:waypoint x="885" y="670" />
        <di:waypoint x="980" y="670" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="899" y="513" width="60" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_14bcqn4_di" bpmnElement="Flow_14bcqn4">
        <di:waypoint x="860" y="645" />
        <di:waypoint x="860" y="420" />
        <di:waypoint x="980" y="420" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="900" y="263" width="40" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1mn1t37_di" bpmnElement="Flow_1mn1t37">
        <di:waypoint x="1030" y="362" />
        <di:waypoint x="1030" y="280" />
        <di:waypoint x="1165" y="280" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1daw59w_di" bpmnElement="Flow_1daw59w">
        <di:waypoint x="258" y="350" />
        <di:waypoint x="330" y="350" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_15pkpne_di" bpmnElement="Flow_15pkpne">
        <di:waypoint x="2750" y="1120" />
        <di:waypoint x="2750" y="1080" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1q2n61u_di" bpmnElement="Flow_1q2n61u">
        <di:waypoint x="1840" y="645" />
        <di:waypoint x="1840" y="305" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1851" y="263" width="57" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_10t394e_di" bpmnElement="Flow_10t394e">
        <di:waypoint x="1600" y="670" />
        <di:waypoint x="1815" y="670" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_004okiq_di" bpmnElement="Flow_004okiq">
        <di:waypoint x="1080" y="420" />
        <di:waypoint x="1310" y="420" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0a8ilbg_di" bpmnElement="Flow_0a8ilbg">
        <di:waypoint x="380" y="292" />
        <di:waypoint x="380" y="260" />
        <di:waypoint x="542" y="260" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Activity_0ss9ssi_di" bpmnElement="Activity_0ss9ssi">
        <dc:Bounds x="1310" y="630" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1udd7ru_di" bpmnElement="Activity_1udd7ru">
        <dc:Bounds x="2180" y="630" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1wd8ste_di" bpmnElement="Activity_1wd8ste">
        <dc:Bounds x="1500" y="630" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0qsvcbm_di" bpmnElement="Gateway_0qsvcbm" isMarkerVisible="true">
        <dc:Bounds x="1815" y="645" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1819" y="565" width="42" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0q3xx1l_di" bpmnElement="Activity_1e5ctzv">
        <dc:Bounds x="1310" y="380" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0fx74kl_di" bpmnElement="Activity_19e7y7y">
        <dc:Bounds x="510" y="510" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0r3frum_di" bpmnElement="Activity_0r3frum">
        <dc:Bounds x="980" y="380" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_15vao6m_di" bpmnElement="Activity_15vao6m">
        <dc:Bounds x="980" y="630" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0f9aa3m_di" bpmnElement="Gateway_0f9aa3m" isMarkerVisible="true">
        <dc:Bounds x="835" y="645" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="837" y="563" width="47" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_06ha0m2_di" bpmnElement="Activity_06ha0m2">
        <dc:Bounds x="670" y="630" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0z9x0q8_di" bpmnElement="Gateway_0z9x0q8" isMarkerVisible="true">
        <dc:Bounds x="1165" y="255" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1puey4g_di" bpmnElement="Gateway_1puey4g" isMarkerVisible="true">
        <dc:Bounds x="1815" y="255" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0rmfprv_di" bpmnElement="Event_01ri3bs">
        <dc:Bounds x="4502" y="262" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="4496" y="165" width="48" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_03z9id0_di" bpmnElement="Event_1x44cua">
        <dc:Bounds x="4502" y="532" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="4482" y="435" width="76" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_09137dt_di" bpmnElement="Activity_0po944q">
        <dc:Bounds x="2700" y="1000" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0hkpzhz_di" bpmnElement="Activity_0hkpzhz">
        <dc:Bounds x="2840" y="380" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0aivbis_di" bpmnElement="Activity_062w9l2">
        <dc:Bounds x="3020" y="630" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1ew6vev_di" bpmnElement="Gateway_1ew6vev" isMarkerVisible="true">
        <dc:Bounds x="3205" y="645" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1ivgieh_di" bpmnElement="Gateway_1ivgieh" isMarkerVisible="true">
        <dc:Bounds x="2725" y="395" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1hefczn_di" bpmnElement="Activity_1hefczn">
        <dc:Bounds x="3500" y="380" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_083t2sb_di" bpmnElement="Gateway_083t2sb" isMarkerVisible="true">
        <dc:Bounds x="3695" y="885" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="3699" y="802" width="45" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1lwx6ta_di" bpmnElement="Gateway_1lwx6ta" isMarkerVisible="true">
        <dc:Bounds x="3345" y="885" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0phs5ep_di" bpmnElement="Activity_17mnlpe">
        <dc:Bounds x="3980" y="510" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1cjv0pn_di" bpmnElement="Gateway_1cjv0pn" isMarkerVisible="true">
        <dc:Bounds x="4175" y="525" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="4158" y="442" width="86" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0bff45c_di" bpmnElement="Gateway_0bff45c" isMarkerVisible="true">
        <dc:Bounds x="3825" y="524" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0a30muj_di" bpmnElement="Activity_0a30muj">
        <dc:Bounds x="3980" y="380" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_00gvg6i_di" bpmnElement="Activity_00gvg6i">
        <dc:Bounds x="4310" y="240" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1eohy5z_di" bpmnElement="Activity_1j7vaxv">
        <dc:Bounds x="4310" y="510" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="_BPMNShape_StartEvent_2" bpmnElement="StartEvent_1">
        <dc:Bounds x="222" y="332" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0drfqgt_di" bpmnElement="Activity_0rp2b1o">
        <dc:Bounds x="510" y="310" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0qs5bq2_di" bpmnElement="Activity_0qs5bq2">
        <dc:Bounds x="330" y="310" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0osevyf_di" bpmnElement="Event_127i7jx">
        <dc:Bounds x="542" y="242" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0azmgge_di" bpmnElement="Activity_1588fn9" isExpanded="true">
        <dc:Bounds x="2060" y="1120" width="1038" height="280" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_1mpsiqn_di" bpmnElement="Flow_1mpsiqn">
        <di:waypoint x="2688" y="1320" />
        <di:waypoint x="2778" y="1320" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1vh02yq_di" bpmnElement="Flow_1vh02yq">
        <di:waypoint x="2973" y="1200" />
        <di:waypoint x="3040" y="1200" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0qw70uu_di" bpmnElement="Flow_0qw70uu">
        <di:waypoint x="2503" y="1200" />
        <di:waypoint x="2923" y="1200" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1rgyk8l_di" bpmnElement="Flow_1rgyk8l">
        <di:waypoint x="2878" y="1320" />
        <di:waypoint x="2948" y="1320" />
        <di:waypoint x="2948" y="1225" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1dai3wh_di" bpmnElement="Flow_1dai3wh">
        <di:waypoint x="2478" y="1295" />
        <di:waypoint x="2478" y="1225" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2486" y="1117" width="15" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0icttni_di" bpmnElement="Flow_0icttni">
        <di:waypoint x="2503" y="1320" />
        <di:waypoint x="2588" y="1320" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2537" y="1162" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1feccqt_di" bpmnElement="Flow_1feccqt">
        <di:waypoint x="2398" y="1320" />
        <di:waypoint x="2453" y="1320" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1jb6hwc_di" bpmnElement="Flow_1jb6hwc">
        <di:waypoint x="2228" y="1258" />
        <di:waypoint x="2228" y="1320" />
        <di:waypoint x="2298" y="1320" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_16iiesf_di" bpmnElement="Flow_16iiesf">
        <di:waypoint x="2278" y="1200" />
        <di:waypoint x="2453" y="1200" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0tv1oy6_di" bpmnElement="Flow_0tv1oy6">
        <di:waypoint x="2116" y="1200" />
        <di:waypoint x="2178" y="1200" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Event_1s86u75_di" bpmnElement="Event_1s86u75">
        <dc:Bounds x="2080" y="1182" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0efaq06_di" bpmnElement="Activity_1w8ocof">
        <dc:Bounds x="2178" y="1160" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1tz9ulj_di" bpmnElement="Gateway_1tz9ulj" isMarkerVisible="true">
        <dc:Bounds x="2453" y="1175" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_137e75y_di" bpmnElement="Activity_065zoks">
        <dc:Bounds x="2298" y="1280" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0dfbgb5_di" bpmnElement="Gateway_0dfbgb5" isMarkerVisible="true">
        <dc:Bounds x="2453" y="1295" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2440" y="1212" width="76" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1jcw391_di" bpmnElement="Activity_1ekcek2">
        <dc:Bounds x="2588" y="1280" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_03qems4_di" bpmnElement="Activity_0uuujct">
        <dc:Bounds x="2778" y="1280" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0hcmunc_di" bpmnElement="Gateway_0hcmunc" isMarkerVisible="true">
        <dc:Bounds x="2923" y="1175" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_04bosv9_di" bpmnElement="Event_04bosv9">
        <dc:Bounds x="3040" y="1182" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0rk7d8j_di" bpmnElement="Event_15auss0">
        <dc:Bounds x="2210" y="1222" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1mnxz02_di" bpmnElement="Gateway_1mnxz02" isMarkerVisible="true">
        <dc:Bounds x="4005" y="255" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_183y6vd_di" bpmnElement="Activity_183y6vd">
        <dc:Bounds x="3500" y="870" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1al9ri8_di" bpmnElement="Gateway_1al9ri8" isMarkerVisible="true">
        <dc:Bounds x="2395" y="645" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1au6ybk_di" bpmnElement="Gateway_1au6ybk" isMarkerVisible="true">
        <dc:Bounds x="3205" y="885" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0f9hm47_di" bpmnElement="Activity_0f9hm47" isExpanded="true">
        <dc:Bounds x="180" y="80" width="440" height="120" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_11gpqgx_di" bpmnElement="Flow_11gpqgx">
        <di:waypoint x="258" y="140" />
        <di:waypoint x="542" y="140" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Event_09yhcnj_di" bpmnElement="Event_09yhcnj">
        <dc:Bounds x="222" y="122" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_19o8kno_di" bpmnElement="Event_19o8kno">
        <dc:Bounds x="542" y="122" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1wzersh_di" bpmnElement="Event_1gvylr6">
        <dc:Bounds x="4012" y="362" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0698i0h_di" bpmnElement="Event_0698i0h">
        <dc:Bounds x="1012" y="362" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0kqm937_di" bpmnElement="Event_0xmynqs">
        <dc:Bounds x="362" y="292" width="36" height="36" />
      </bpmndi:BPMNShape>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
